<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atualizar Perfil - Brain | Sua Plataforma de Saúde Mental</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/favicon/favi.ico">

    <!-- Google Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    
    <!-- Google Fonts - Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="css/feedback.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/passwordView.css">

    <script src="scripts/header.js" defer></script>
    <script src="scripts/profile.js" defer></script>
    <script src="scripts/modal.js" defer></script>
    <script src="scripts/auth/delete-user.js" defer></script>
    <script src="scripts/auth/update-user.js" defer></script>
    <script src="scripts/passwordToggle.js" defer></script>
    <script src="scripts/main.js" defer></script>
    <script src="scripts/feedbacks/getForUser.js" defer></script>
    <script src="scripts/feedbacks/delete.js" defer></script>
    <script src="scripts/feedbacks/update.js" defer></script>
    <script src="scripts/feedback.js" defer></script>
    <script src="scripts/updateProfile.js" defer></script>
</head>
<body>
    <header>
        <nav class="nav-container">
            <a href="index.html" class="logo">Brain</a>
            <button class="menu-btn">
                <span class="material-icons menu-icon">menu</span>
                <span class="material-icons close-icon">close</span>
            </button>
            <div class="nav-links">
                <a href="profissionais.html">Profissionais</a>
                <div class="user-container">
                    <button class="user-btn">
                        <span class="material-symbols-outlined">account_circle</span>
                        <span class="username">Olá, Usuário</span>
                    </button>
                    <div class="user-modal">
                        <div class="modal-content-user">
                            <a href="update.html" class="modal-option">
                                <span class="material-symbols-outlined">person</span>
                                Minha Conta
                            </a>
                            <a href="admin.html" class="modal-option">
                                <span class="material-symbols-outlined">admin_panel_settings</span>
                                Administração
                            </a>
                            <div class="modal-divider"></div>
                            <a href="#" class="modal-option logout">
                                <span class="material-symbols-outlined">logout</span>
                                Sair
                            </a>
                        </div>
                    </div>
                </div>
                <a href="register-choice.html" class="register-btn">Registrar-se</a>
            </div>
        </nav>
    </header>

    <main>
        <div class="profile-container">
            <div class="profile-tabs">
                <button class="tab-btn active" data-tab="profile">Perfil</button>
                <button class="tab-btn" data-tab="posts">Meus Posts</button>
                <button class="tab-btn" data-tab="comments">Comentários</button>
                <button class="tab-btn" data-tab="feedback">Feedbacks</button>
            </div>

            <div class="tab-content">
                <!-- Seção de Perfil -->
                <div class="tab-pane active" id="profile">
                    <div class="profile-form-container">
                        <h2>Meu Perfil</h2>
                        <form class="profile-form">
                            <div class="profile-image-container">
                                <div class="profile-image-preview">
                                    <img src="assets/images/default-avatar.png" id="profile-preview">
                                    <button type="button" class="clear-image-btn" id="clear-image">
                                        <span class="material-icons">close</span>
                                    </button>
                                </div>
                                <div class="image-upload">
                                    <label for="profile-image" class="upload-btn">
                                        <span class="material-icons">add_a_photo</span>
                                        Alterar Foto
                                    </label>
                                    <input type="file" id="profile-image" name="profile-image" accept="image/*" hidden>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="name">Nome Completo</label>
                                <input type="text" id="name" name="name" placeholder="Digite seu nome (obrigatório)">
                            </div>

                            <div class="form-group">
                                <label for="email">E-mail</label>
                                <input type="email" id="email" name="email" placeholder="seuemail@email.com (obrigatório)" readonly disabled>
                            </div>


                            <div class="form-group">
                                <label for="currentPassword">Confirmar Senha</label>
                                <div class="password-field">
                                    <input type="password" id="currentPassword" name="currentPassword" placeholder="Digite sua senha (obrigatório)">
                                    <button type="button" class="password-toggle">
                                        <span class="material-icons">visibility</span>
                                    </button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="newPassword">Nova Senha</label>
                                <div class="password-field">
                                    <input type="password" id="newPassword" name="newPassword" placeholder="Digite sua nova senha (opcional)">
                                    <button type="button" class="password-toggle">
                                        <span class="material-icons">visibility</span>
                                    </button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="confirmNewPassword">Confirmar Nova Senha</label>
                                <div class="password-field">
                                    <input type="password" id="confirmNewPassword" name="confirmNewPassword" placeholder="Confirme sua nova senha (opcional)">
                                    <button type="button" class="password-toggle">
                                        <span class="material-icons">visibility</span>
                                    </button>
                                </div>
                            </div>

                            <button type="submit" class="update-btn">
                                <span class="material-icons">save</span>
                                Salvar Alterações
                            </button>

                            <button type="button" class="delete-account-btn" id="delete-btn">
                                <span class="material-icons">delete_forever</span>
                                Deletar Conta
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Seção de Posts -->
                <div class="tab-pane" id="posts">
                    <div class="activity-container">
                        <h2>Meus Posts</h2>
                        <div class="posts-list">
                            <!-- Exemplo de post -->
                            <div class="post-card">
                                <div class="post-header">
                                    <h3>Título do Post</h3>
                                    <span class="post-date">12/03/2024</span>
                                </div>
                                <p class="post-content">Conteúdo do post...</p>
                                <div class="post-stats">
                                    <span><i class="material-icons">favorite</i> 15</span>
                                    <span><i class="material-icons">comment</i> 5</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Seção de Comentários -->
                <div class="tab-pane" id="comments">
                    <div class="activity-container">
                        <h2>Meus Comentários</h2>
                        <div class="comments-list">
                            <!-- Exemplo de comentário -->
                            <div class="comment-card">
                                <div class="comment-header">
                                    <h3>Em: Título do Post</h3>
                                    <span class="comment-date">10/03/2024</span>
                                </div>
                                <p class="comment-content">Conteúdo do comentário...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Seção de Feedbacks -->
                <div class="tab-pane" id="feedback">
                    <div class="activity-container">
                        <h2>Meus Feedbacks</h2>
                        <div class="feedback-list">
                        
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- Feedback Modal -->
    <div id="feedbackModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Feedback</h2>
                <button class="close-modal" onclick="closeModal('feedbackModal')">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="feedbackForm" class="feedback-form-update">
                    <input type="hidden" id="editFeedbackId" name="id">
                    <div class="form-group">
                        <label for="feedbackTitle">Título</label>
                        <input type="text" id="feedbackTitle" name="feedbackTitle" maxlength="30"
                            placeholder="Digite um título para seu feedback">
                        <div class="word-count"><span id="titleCount">0</span>/30</div>
                    </div>
                    <div class="form-group">
                        <label for="feedbackContent">Mensagem</label>
                        <textarea id="feedbackContent" name="feedbackContent" rows="5" maxlength="300"
                                placeholder="Digite seu feedback aqui"></textarea>
                        <div class="word-count"><span id="contentCount">0</span>/300</div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="delete-account-btn" onclick="closeModal('feedbackModal')">Cancelar</button>
                        <button type="submit" class="update-btn"><span class="material-icons">save</span>Salvar alterações</button>
                    </div>
                </form>
            </div>
        </div>
</body>
</html>